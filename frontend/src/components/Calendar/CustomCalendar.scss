@use 'react-calendar/dist/Calendar.css' as calendar;
@use '@/styles/constants/typographies' as typo;
@use '@/styles/constants/colors' as colors;

.custom-calendar-container {
  padding: 1rem; // 전체 패딩 적용
  margin-top: 30px;

  .react-calendar {
    width: 100%;
    border: none;

    &.collapsed-calendar {
      width: 100%; // 달력 크기 조정

      .react-calendar__tile {
        &.neighboringMonth {
          color: colors.$placeholder; // 이번 달이 아닌 날짜 색상 변경
        }
      }
    }

    .react-calendar__navigation {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 20px;

      button {
        margin: 0 10px; // 버튼 좌우 간격 더 넓힘
        cursor: pointer;
        background: none;
        border: none;

        @include typo.title;

        &:disabled {
          color: rgb(128 128 128);
          cursor: default;
        }

        &.react-calendar__navigation__prev2-button,
        &.react-calendar__navigation__next2-button {
          display: none;
        }
      }

      .react-calendar__navigation__label {
        flex-grow: 1;
        text-align: center;
        pointer-events: none;

        @include typo.title; // 제목 스타일 적용
      }
    }

    .react-calendar__month-view__weekdays {
      display: flex;
      justify-content: space-between;
      margin: auto;

      @include typo.main; // 기본 글씨 스타일 적용

      .react-calendar__month-view__weekdays__weekday {
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold; // 요일 글씨 굵기

        abbr[title="Sunday"],
        abbr[title="일"] {
          color: red; 
          text-decoration: none; 
        }

        abbr[title="Saturday"],
        abbr[title="토"] {
          color: blue; 
        }

        abbr {
          text-decoration: none; // 모든 요일 밑줄 제거
        }
      }
    }

    .react-calendar__month-view__days__day {
      box-sizing: border-box;
      height: 4rem; // 일자 높이
      padding: 0.5rem; // 일자 패딩
      text-align: center;

      &.sunday abbr {
        color: red; // 일요일 색상
      }

      &.saturday abbr {
        color: blue; // 토요일 색상
      }

      &.neighboringMonth abbr {
        color: colors.$placeholder; // 이번 달이 아닌 날짜 색상
      }
    }

    .react-calendar__tile {
      position: relative;
      box-sizing: border-box;
      max-width: 100%;
      height: 3rem; // 타일 높이
      padding: 0.5rem; // 타일 패딩
      line-height: 1.5rem;
      text-align: center;
      cursor: pointer;
      background: none;
      border: none;

      @include typo.main; // 기본 글씨 스타일 적용

      &.react-calendar__tile--active,
      &.today {
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 0;

        abbr {
          display: flex;
          align-items: center;
          justify-content: center;
          width: 2.2rem;
          height: 2.2rem;
          margin: auto;
          background-color: colors.$divider2;
          border-radius: 50%;
        }
      }

      &.selected {
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 0;

        abbr {
          display: flex;
          align-items: center;
          justify-content: center;
          width: 2.2rem;
          height: 2.2rem;
          margin: auto;
          color: white;
          background-color: colors.$primary;
          border-radius: 50%;
        }
      }
    }
  }

  &.collapsed {
    .react-calendar {
      width: 22.5rem;
      padding: 0 16px;

      .react-calendar__month-view__weekdays,
      .react-calendar__month-view__days {
        display: flex;
        justify-content: space-between;
        padding: 0 4px;
      }

      .react-calendar__tile {
        display: flex;
        flex: 1;
        align-items: center;
        justify-content: center;
        cursor: pointer;

        &.sunday {
          color: red; // 일요일 색상
        }

        &.saturday {
          color: blue; // 토요일 색상
        }

        &.neighboringMonth {
          color: colors.$placeholder; // 이번 달이 아닌 날짜 색상 변경
        }
      }
    }
  }
}

.highlight-dot {
  width: 6px;
  height: 6px;
  margin: 2px auto 0; // 점을 숫자 아래 중앙에 배치
  background-color: green;
  border-radius: 50%;
}

.react-calendar__tile {
  position: relative; // 점을 타일 내부에 위치시키기 위해 상대 위치 사용
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}

.react-calendar__tile--hasDot {
  .react-calendar__tile__content {
    display: flex;
    flex-direction: column;
    align-items: center;
  }
}
